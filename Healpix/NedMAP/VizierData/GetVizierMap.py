#!/usr/local/bin/python3# stars - create a simulated starfield image# Revision 2013-03-17# Copyright (c) 2011 Paul Hickson  #usage = \"""  %prog [options] RA DEC Description  This program creates an image containing a simulated star field generated from  catalog data. The first five arguments are required. Any number of optional  parameters may be entered, but none can be skipped over. The image will be  written to the image directory, specified in the cfg.py file.  Parameters  RA             right ascension of the image center (J2000)  DEC            declination of the image center (J2000)"""import pyfitsimport math as mtimport numpy as npfrom array import *from scipy.io import *import healpy as hpimport matplotlib.pyplot as pltimport sysfrom pylab import *import binasciidef IndexToDeclRa(NSIDE,index):        theta,phi=hp.pixelfunc.pix2ang(NSIDE,index)    return -np.degrees(theta-mt.pi/2.),np.degrees(mt.pi*2.-phi)def DeclRaToIndex(decl,RA,NSIDE):    return hp.pixelfunc.ang2pix(NSIDE,np.radians(-decl+90.),np.radians(360.-RA))#------------------------------------------------------------------------------# main#def main():    """    This is the main routine.    """        '''    # Parse the command line.    parser = OptionParser(usage=usage)    parser.disable_interspersed_args()    parser.add_option('-q','--quiet',dest='quiet',action='store_true',        default=False,help='quiet output')    parser.add_option('-v','--verbose',dest='verbose',action='store_true',        default=False,help='verbose output')    (options,args) = parser.parse_args()    nargs = len(args)    '''           filenameCat = '/Users/Elisa/c/EAntolini/Healpix/NedMAP/VizierData/VizierJ15_19K10_15.txt'        RA,DEC,JMAG,KMAG = np.loadtxt(filenameCat,skiprows= 3,usecols = (0,1,2,3),dtype=[('f0',float),('f1',float),('f2',float),('f3',float)], unpack = True)           #Plot Histogram    J_K = JMAG-KMAG    print(J_K)    plt.hist(J_K)    plt.show()            #Get Pix Map    pix = DeclRaToIndex(DEC,RA,512)    galpixels= np.zeros(hp.nside2npix(512))    #galpixels[pix]=galpixels[pix]+1                        Lsun = 3.846e26 # Watt    MagSun = -26.832 # Bolometric        LumGal = Lsun*np.power(10,(-MagSun-JMAG)/2.5) # lUMINOSTY OF THE GALAXY IN SOLAR LUMINOSITY        galpixels[pix]+=LumGal        print(galpixels) #-> Some value are zero    #print(hp.nside2npix(512))    hp.mollview(galpixels,coord='C',rot = [0,0.3], title='Histogram equalized Ecliptic', unit='prob',xsize = 512)    hp.graticule()    plt.show()#------------------------------------------------------------------------------# Start program execution.#if __name__ == '__main__':    main()